<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title><%= content_for?(:title) ? yield(:title) : "foundation-rails" %></title>

    <%= stylesheet_link_tag    "application" %>
    <%= javascript_include_tag "vendor/modernizr" %>
    <%= csrf_meta_tags %>
  </head>

  <body>
  <div class="contain-to-grid sticky">
    <nav class="top-bar" data-topbar>
      <ul class="title-area">
        <li class="name">
          <h1><a href="/"><img src="/assets/logo.png"></a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="/">Menu</a></li>
      </ul>

      <section class="top-bar-section">
        <% if user_signed_in? %>
        <!-- Right Nav Section -->
        <ul class="right">
          <li class="active"><a href='/users/<%= current_user.id %>'> My Profile </a></li>
          <li><%= link_to "Sign out", destroy_user_session_path, method: :delete %></li>
        </ul>
        <!-- Left Nav Section -->
        <ul class="left">
          <li class="active"><a href='/snaps/new'> Snap! </a></li>
        </ul>
        <% else %>
        <ul class="right">
          <li><a href='/users/sign_up'> Sign up! </a></li> 
          <li><a href='/users/sign_in'> Sign in! </a></li>
        <% end %>
      </section>
    </nav>
  </div>

  <div id="flash-container" class="small-3 small-centered columns" style="margin-top: 20px">
  <% if flash[:notice] %>
    <div data-alert class="notice alert-box info radius">
      <%= flash[:notice] %>
      <a href="#" class="close">&times;</a>
    </div>
  <% flash[:notice] = nil %>
  <% end %>

  <% if flash[:alert] %>
    <div data-alert class="alert-box info radius">
      <%= flash[:alert] %>
      <a href="#" class="close">&times;</a>
    </div>
  <% flash[:alert] = nil %>
  <% end %>

  <% if flash[:errors] && !flash[:errors].empty? %>

      <% flash[:errors].each do |error| %>
        <div data-alert class="alert-box warning radius"><%= error %>
          <a href="#" class="close">&times;</a>
        </div>
      <% end %> 

  <% end %>
</div>


    <%= yield %>
    <%= javascript_include_tag "application" %>
  </body>
</html>